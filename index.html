<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clicker Game</title>
  </head>
  <body>
    <section>
      <div class="main">
        <div class="left"></div>
        <div class="center"></div>

        <div class="right"></div>
      </div>
      <img src="download.jpg" alt="bag of money" />
      <h3>money: 0</h3>
      <button id="clickBtn">click me!</button>
      <button id="startBtn">Start Auto-Clicker</button>
      <button id="stopBtn">Stop Auto-Clicker</button>
      <button id="shopBtn">shop</button>
      <button id="secretBtn" style="position: fixed; bottom: 20px; right: 20px; padding: 2px 4px; font-size: 8px; background-color: #555; color: white; border: none; border-radius: 4px; cursor: pointer;">?</button>
    </section>

    <div id="shopModal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close">&times;</span>
        <button id="closeShopBtn" class="close-shop-button">Close Shop</button>
        <h2>Shop</h2>
        <p>Money: <span id="shopMoney">0</span></p>
        <div id="shopItems" class="shop-items"></div>
      </div>
    </div>

    <div id="secretModal" class="modal" style="display: none">
      <div class="modal-content" style="width: 100%; height: 100%; max-width: none; border-radius: 0; margin: 0; display: flex; flex-direction: column; justify-content: center; align-items: center;">
        <button id="secretClose" style="position: absolute; top: 20px; right: 20px; background-color: #e74c3c; color: white; border: none; padding: 10px 15px; border-radius: 4px; cursor: pointer; font-size: 16px;">Close</button>
        <h2>Enter Code</h2>
        <input type="password" id="secretCode" placeholder="Enter code" style="width: 300px; padding: 10px; margin: 10px 0; border: 1px solid #ddd; border-radius: 4px;">
        <button onclick="checkSecretCode()" style="width: 300px; padding: 10px; background-color: #3498db; color: white; border: none; border-radius: 4px; cursor: pointer;">Submit</button>
      </div>
    </div>

    <h2>Please Enter Your Age</h2>

    <form>
      <label for="age">Age:</label>
      <input type="number" id="age" name="age" min="1" max="120" required />
      <input type="button" value="Submit Age" onclick="validateAge()" />
    </form>

    <p id="message"></p>

    <style>
      .modal {
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.4);
      }

      .modal-content {
        background-color: #f4f4f4;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #888;
        width: 100%;
        height: 100%;
        max-width: none;
        border-radius: 0;
        overflow-y: auto;
      }

      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }

      .close:hover {
        color: black;
      }

      .close-shop-button {
        background-color: #e74c3c;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-bottom: 20px;
      }

      .close-shop-button:hover {
        background-color: #c0392b;
      }

      .shop-items {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .shop-item {
        border: 2px solid #ddd;
        padding: 15px;
        border-radius: 8px;
        background-color: white;
        text-align: center;
      }

      .shop-item h3 {
        margin: 0 0 10px 0;
        font-size: 16px;
      }

      .shop-item p {
        margin: 5px 0;
        font-size: 14px;
        color: #666;
      }

      .shop-item .cost {
        font-weight: bold;
        color: #2c3e50;
        font-size: 16px;
        margin: 10px 0;
      }

      .shop-item .owned {
        color: #27ae60;
        font-weight: bold;
      }

      .shop-item button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      .shop-item button:hover:not(:disabled) {
        background-color: #2980b9;
      }

      .shop-item button:disabled {
        background-color: #bdc3c7;
        cursor: not-allowed;
      }
    </style>

    <script>
      let money = 0;
      let clickValue = 1;
      let autoClickValue = 1;
      const MAX_MONEY = 100000000000000000000000000000000000000000000000000000; // Set a maximum money cap
      const moneyDisplay = document.querySelector("h3");
      const clickBtn = document.getElementById("clickBtn");

      // Shop items definition
      const shopItems = [
        {
          id: "doubleClick",
          name: "Double Click",
          description: "+1 click power",
          baseCost: 50,
          cost: 50,
          effect: () => {
            clickValue += 1;
          },
          owned: 0,
        },
        {
          id: "tripleClick",
          name: "Triple Click",
          description: "+3 click power",
          baseCost: 200,
          cost: 200,
          effect: () => {
            clickValue += 3;
          },
          owned: 0,
        },
        {
          id: "fasterAuto",
          name: "Faster Auto-Clicker",
          description: "Speed up auto-clicker by 50%",
          baseCost: 10000,
          cost: 10000,
          effect: () => {
            autoClickValue *= 1.5;
          },
          owned: 0,
        },
        {
          id: "megaClick",
          name: "Mega Click",
          description: "+50 money per click",
          baseCost: 2000,
          cost: 2000,
          effect: () => {
            clickValue += 50;
          },
          owned: 0,
        },
      ];

      clickBtn.addEventListener("click", () => {
        money = Math.min(money + clickValue, MAX_MONEY);
        moneyDisplay.textContent = `money: ${money}`;
      });

      let autoClickerInterval = null;
      const startBtn = document.getElementById("startBtn");
      const stopBtn = document.getElementById("stopBtn");

      startBtn.addEventListener("click", () => {
        if (!autoClickerInterval) {
          autoClickerInterval = setInterval(() => {
            money = Math.min(money + autoClickValue, MAX_MONEY);
            money = Math.floor(money);
            moneyDisplay.textContent = `money: ${money}`;
          }, 100);
        }
      });

      stopBtn.addEventListener("click", () => {
        clearInterval(autoClickerInterval);
        autoClickerInterval = null;
      });

      // Shop functionality
      const shopModal = document.getElementById("shopModal");
      const shopBtn = document.getElementById("shopBtn");
      const closeBtn = document.querySelector(".close");
      const closeShopBtn = document.getElementById("closeShopBtn");
      const shopItemsContainer = document.getElementById("shopItems");
      const shopMoneyDisplay = document.getElementById("shopMoney");

      shopBtn.addEventListener("click", () => {
        shopModal.style.display = "block";
        updateShopDisplay();
      });

      closeBtn.addEventListener("click", () => {
        shopModal.style.display = "none";
      });

      closeShopBtn.addEventListener("click", () => {
        shopModal.style.display = "none";
      });

      window.addEventListener("click", (event) => {
        if (event.target === shopModal) {
          shopModal.style.display = "none";
        }
      });

      // Secret button functionality
      const secretBtn = document.getElementById("secretBtn");
      const secretModal = document.getElementById("secretModal");
      const secretClose = document.getElementById("secretClose");

      secretBtn.addEventListener("click", () => {
        secretModal.style.display = "block";
      });

      secretClose.addEventListener("click", () => {
        secretModal.style.display = "none";
      });

      window.addEventListener("click", (event) => {
        if (event.target === secretModal) {
          secretModal.style.display = "none";
        }
      });

      function checkSecretCode() {
        const codeInput = document.getElementById("secretCode");
        if (codeInput.value === "daniel") {
          money = Math.min(money + 1000000000000000000, MAX_MONEY);
          moneyDisplay.textContent = `money: ${money}`;
          alert("Correct! You've been awarded 1,000,000 money!");
          secretModal.style.display = "none";
          codeInput.value = "";
        } else {
          alert("Incorrect code!");
          codeInput.value = "";
        }
      }

      function updateShopDisplay() {
        shopMoneyDisplay.textContent = money;
        shopItemsContainer.innerHTML = "";

        shopItems.forEach((item, index) => {
          const itemDiv = document.createElement("div");
          itemDiv.className = "shop-item";

          let buttonHTML = `<button onclick="buyItem(${index})"${
            money < item.cost ? " disabled" : ""
          }>Buy</button>`;

          itemDiv.innerHTML = `
            <h3>${item.name}</h3>
            <p>${item.description}</p>
            <p class="cost">Cost: ${item.cost}</p>
            <p class="owned">Owned: ${item.owned}</p>
            ${buttonHTML}
          `;

          shopItemsContainer.appendChild(itemDiv);
        });
      }

      function buyItem(index) {
        const item = shopItems[index];
        if (money >= item.cost) {
          money -= item.cost;
          item.owned += 1;
          item.effect();
          item.cost *= 2;
          moneyDisplay.textContent = `money: ${money}`;
          updateShopDisplay();
          console.log(
            `Purchased ${item.name}! New cost: ${item.cost}. Click value: ${clickValue}, Auto-click value: ${autoClickValue}`
          );
        }
      }
      function validateAge() {
        const ageInput = document.getElementById("age");
        const messageArea = document.getElementById("message");
        const age = parseInt(ageInput.value, 10);

        if (isNaN(age) || age < 1 || age > 100) {
          messageArea.textContent = "please enter your real age.";
          messageArea.style.color = "red";
          return false;
        } else if (age > 18) {
          messageArea.textContent = "get a job broncitis";
          messageArea.style.color = "green";
        } else {
          messageArea.textContent = "Lets get the paper!:)";
          messageArea.style.color = "green";
        }
      }
    </script>
  </body>
</html>
